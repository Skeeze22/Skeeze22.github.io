<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Write to support</title>
  <style>
    :root{ --bg:#f9fafc; --card:#ffffff; --text:#111827; --muted:#6b7280; --accent:#2563eb; --border:#d1d5db }
    html,body{height:100%}
    body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif; background:var(--bg); color:var(--text); display:grid; place-items:center}
    .wrap{width:min(680px,92vw);}
    .card{background:var(--card); border:1px solid var(--border); border-radius:12px; padding:22px; box-shadow:0 6px 20px rgba(0,0,0,.06)}
    h1{font-size:20px; margin:0 0 6px}
    p.lead{margin:0 0 14px; color:var(--muted)}
    form{display:grid; gap:12px}
    label{font-size:13px; color:var(--muted)}
    input, textarea{width:100%; border:1px solid var(--border); background:#fff; color:var(--text); border-radius:10px; padding:10px 12px; font-size:14px}
    textarea{min-height:140px; resize:vertical}
    .row{display:grid; gap:12px; grid-template-columns:1fr 1fr}
    .btn{cursor:pointer; border:0; background:var(--accent); color:#fff; font-weight:600; border-radius:10px; padding:10px 14px; font-size:14px}
    .muted{font-size:12px; color:var(--muted)}
    .footer{margin-top:8px; display:flex; justify-content:space-between; align-items:center}
    a{color:var(--accent); text-decoration:none}
    @media (max-width:640px){ .row{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="form" aria-labelledby="title">
      <h1 id="title">Contact support</h1>
      <p class="lead">Fill out the form. Your email client will open with a prepared letter.</p>

      <form id="support-form" autocomplete="on" novalidate>
        <div>
          <label for="name">Your name</label>
          <input id="name" name="name" type="text" placeholder="Name" required />
        </div>

        <div class="row">
          <div>
            <label for="email">Email for reply</label>
            <input id="email" name="email" type="email" inputmode="email" placeholder="you@example.com" required />
          </div>
          <div>
            <label for="topic">Topic</label>
            <input id="topic" name="topic" type="text" placeholder="Question about ScreenVeilе" required />
          </div>
        </div>

        <div>
          <label for="message">Message</label>
          <textarea id="message" name="message" placeholder="Describe the question..." required></textarea>
        </div>

        <div class="footer">
          <span class="muted">or <a id="mailto-fallback" href="#">write manually</a></span>
          <button class="btn" type="submit">Send</button>
        </div>
        <p class="muted">Sending via email client. If it is not configured, use the “write manually” link.</p>
      </form>
    </div>
  </div>

  <script>
    (function(){
      const FORM = document.getElementById('support-form');
      const FALLBACK = document.getElementById('mailto-fallback');

      const SUPPORT_EMAIL = 'support@arffis.com';

      function buildMailto(values){
        const subject = `[Support] ${values.topic}`.trim();
        const body = [
          `Name: ${values.name}`,
          `Email: ${values.email}`,
          `\nMessage:`,
          `${values.message}`
        ].join('\n');
        return `mailto:${SUPPORT_EMAIL}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      }

      function getValues(){
        return {
          name: document.getElementById('name').value.trim(),
          email: document.getElementById('email').value.trim(),
          topic: document.getElementById('topic').value.trim(),
          message: document.getElementById('message').value.trim(),
        };
      }

      function validate(v){
        if(!v.name || !v.email || !v.topic || !v.message) return false;
        if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)) return false;
        return true;
      }

      FORM.addEventListener('submit', function(e){
        e.preventDefault();
        const values = getValues();
        if(!validate(values)){
          alert('Please verify the accuracy of the form.');
          return;
        }
        window.location.href = buildMailto(values);
      });

      FALLBACK.addEventListener('click', function(e){
        e.preventDefault();
        const values = getValues();
        window.location.href = buildMailto(values);
      });
    })();
  </script>
</body>
</html>
